<div
    mat-dialog-title
    class="flex justify-between bgGreen text-white py-4 px-15  {{ direction }}"
>
    <h1 class="font-semibold">{{ "UserProfile.myProfile" | translate }}</h1>
    <span class="flex font-semibold cursor-pointer" (click)="onClose()">
        <mat-icon class="text-white">close</mat-icon>
        <span class="mt-0.5">{{ "UserProfile.cclose" | translate }}</span>
    </span>
</div>
<div mat-dialog-content class="px-15 pt-10 {{ direction }}">
    <div class="inner-page-title text-xl">
        {{ "UserProfile.profileInformation" | translate }}
    </div>
    <hr />
    <div class="pt-10 flex">
        <div class="w-1/3 p-6 bg-[#f5f5f5] h-[494px]">
            <div
                class="bg-[#D69C47] h-60 flex justify-center items-center"
                *ngIf="!userProfile?.profileImageUrl"
            >
                <div>
                    <mat-icon
                        class="w-15 h-15 text-white"
                        svgIcon="feather:user"
                    ></mat-icon>
                </div>
            </div>
            <div class="h-60" *ngIf="userProfile?.profileImageUrl">
                <img [src]="userProfile?.profileImageUrl" class="h-full" />
            </div>
            <div class="pt-6">
                <button
                    mat-flat-button
                    [color]="'primary'"
                    class="w-full"
                    (click)="uploadImage('profile', '490', '240')"
                >
                    {{ "UserProfile.updateProfilePicture" | translate }}
                </button>
            </div>
        </div>
        <div
            class="w-2/3"
            [ngClass]="
                direction === 'ltr' ? 'ml-5' : direction === 'rtl' ? 'mr-5' : ''
            "
        >
            <div class="inner-page-sub-title">
                {{ "UserProfile.personalInformation" | translate }}
            </div>
            <hr />
            <div class="justify-between flex mt-6">
                <div class="w-full">
                    <div class="inner-page-labels">
                        {{ "UserProfile.fullName" | translate }}
                    </div>
                    <div class="inner-page-labels font-semibold mt-1">
                        {{ userProfile?.fullName }}
                    </div>
                </div>
                <div
                    class="active font-semibold text-lg cursor-pointer"
                    (click)="editUserProfileInfo('Full_Name')"
                >
                    {{ "UserProfile.edit" | translate }}
                </div>
            </div>

            <div class="justify-between flex mt-4">
                <div class="w-full">
                    <div class="inner-page-labels">
                        {{ "UserProfile.phoneNumber" | translate }}
                    </div>
                    <div class="inner-page-labels font-semibold mt-1">
                        {{ userProfile?.phoneNumber }}
                    </div>
                </div>
                <div
                    class="active font-semibold text-lg cursor-pointer"
                    (click)="editUserProfileInfo('Phone_Number')"
                >
                    {{ "UserProfile.edit" | translate }}
                </div>
            </div>

            <div class="justify-between flex mt-4">
                <div class="w-full">
                    <div class="inner-page-labels">
                        {{ "UserProfile.emailID" | translate }}
                    </div>
                    <div class="inner-page-labels font-semibold mt-1">
                        {{ userProfile?.emailId }}
                    </div>
                </div>
                <div
                    class="active font-semibold text-lg cursor-pointer"
                    (click)="editUserProfileInfo('Email_Id')"
                >
                    {{ "UserProfile.edit" | translate }}
                </div>
            </div>

            <div class="justify-between flex mt-4">
                <div class="w-full">
                    <div class="inner-page-labels">
                        {{ "UserProfile.userCurrency" | translate }}
                    </div>
                    <div class="inner-page-labels font-semibold mt-1">
                        {{ userProfile?.userCurrency }}
                    </div>
                </div>
                <div
                    class="active font-semibold text-lg cursor-pointer"
                    (click)="editUserProfileInfo('Currency_Type')"
                >
                    {{ "UserProfile.edit" | translate }}
                </div>
            </div>

            <div class="inner-page-sub-title mt-10">
                {{ "UserProfile.roleInformation" | translate }}
            </div>
            <hr />
            <div class="justify-between flex mt-6">
                <div class="w-full">
                    <div class="inner-page-labels">
                        {{ "UserProfile.role" | translate }}
                    </div>
                    <div class="inner-page-labels font-semibold mt-1">
                        {{ userProfile?.roleName }}
                    </div>
                </div>
                <div class="w-full">
                    <div class="inner-page-labels">
                        {{ "UserProfile.memberSince" | translate }}
                    </div>
                    <div class="inner-page-labels font-semibold mt-1">
                        {{ userProfile?.memberSince | date : "d MMMM y" }}
                    </div>
                </div>
                <div class="w-full">
                    <div class="inner-page-labels">
                        {{ "UserProfile.status" | translate }}
                    </div>
                    <div class="inner-page-labels font-semibold mt-1">
                        {{ userProfile?.userActivityStatus }}
                    </div>
                </div>
                <div class="w-full">
                    <div class="inner-page-labels">
                        {{ "UserProfile.deviceCount" | translate }}
                    </div>
                    <ng-container
                        *ngIf="userProfile?.deviceCount !== 0; else zeroCount"
                    >
                        <div
                            class="inner-page-labels font-semibold mt-1 text-underline"
                            (click)="openDeviceList(userProfile?.deviceList)"
                        >
                            <span class="">{{ userProfile?.deviceCount }} </span
                            >{{ "UserProfile.of" | translate }}<span></span
                            ><span> 3</span>
                        </div>
                    </ng-container>
                    <ng-template #zeroCount>
                        <div class="inner-page-labels font-semibold mt-1">
                            {{ userProfile?.deviceCount }}
                        </div>
                    </ng-template>
                </div>
                <div class="w-full">
                    <div class="inner-page-labels">
                        {{ "UserProfile.lastSession" | translate }}
                    </div>
                    <div class="inner-page-labels font-semibold mt-1">
                        {{ user?.lastLoggedIn | date : "dd/MM/yyyy" }}
                        {{ user?.lastLoggedIn | date : "shortTime" }}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- <hr> -->
    <div>
        <form [formGroup]="imamInfoForm" class="imam-form">
            <div class="form-section">
                <div class="form-section-title">
                    {{ "ImamProfile.personalInformation" | translate }}
                </div>
                <div class="fields-gap">
                    <mat-form-field class="w-full max-w-80">
                        <mat-label>{{
                            "ImamProfile.nickName" | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="nickName"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('nickName')
                                    .hasError('required')
                            "
                        >
                            {{ "ImamProfile.nickNameIsRequired" | translate }}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.place" | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="place"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm.get('place').hasError('required')
                            "
                        >
                            {{ "ImamProfile.placeIsRequired" | translate }}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.doB" | translate
                        }}</mat-label>
                        <input
                            matInput
                            [matDatepicker]="picker2"
                            placeholder="DOB(DD/MM/YYYY)"
                            formControlName="doB"
                            [max]="maxDOB"
                        />
                        <mat-datepicker-toggle
                            matSuffix
                            [for]="picker2"
                        ></mat-datepicker-toggle>
                        <mat-datepicker #picker2></mat-datepicker>
                        <mat-error
                            *ngIf="imamInfoForm.get('doB').hasError('required')"
                        >
                            {{ "ImamProfile.doBIsRequired" | translate }}
                        </mat-error>
                        <mat-error
                            *ngIf="
                                imamInfoForm.get('doB').hasError('ageInvalid')
                            "
                        >
                            {{ "ImamProfile.ageMustBeAtLeast20" | translate }}
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="form-section">
                <div class="form-section-title">
                    {{ "ImamProfile.address" | translate }} &
                    {{ "ImamProfile.mapsLocation" | translate }}
                </div>
                <div class="fields-gap">
                    <mat-form-field class="w-full max-w-80">
                        <mat-label>{{
                            "ImamProfile.address" | translate
                        }}</mat-label>
                        <textarea
                            matInput
                            formControlName="imamAddress"
                            maxlength="150"
                        ></textarea>
                        <label class="text-disabled">
                            {{ imamInfoForm?.value?.imamAddress.length }}/150
                        </label>
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('imamAddress')
                                    .hasError('required')
                            "
                        >
                            {{ "ImamProfile.addressIsRequired" | translate }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.country" | translate
                        }}</mat-label>
                        <mat-select formControlName="countryId">
                            <mat-option>
                                <ngx-mat-select-search
                                    placeholderLabel="Search"
                                    [formControl]="countryFilterCtrl"
                                ></ngx-mat-select-search>
                            </mat-option>
                            <mat-option
                                *ngFor="let type of filteredCountries | async"
                                [value]="type.id"
                                (onSelectionChange)="
                                    getLocationData(type.id, 'S')
                                "
                            >
                                {{ type.name }}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('countryId')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.countryNameIsRequired" | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.state" | translate
                        }}</mat-label>
                        <mat-select formControlName="stateId">
                            <mat-option>
                                <ngx-mat-select-search
                                    placeholderLabel="Search"
                                    [formControl]="stateFilterCtrl"
                                ></ngx-mat-select-search>
                            </mat-option>
                            <mat-option
                                *ngFor="let type of filteredStates | async"
                                [value]="type.id"
                                (onSelectionChange)="
                                    getLocationData(type.id, 'C')
                                "
                            >
                                {{ type.name }}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="
                                imamInfoForm.get('stateId').hasError('required')
                            "
                        >
                            {{ "ImamProfile.stateNameIsRequired" | translate }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80">
                        <mat-label>
                            {{ "ImamProfile.city" | translate }}</mat-label
                        >
                        <mat-select formControlName="cityId">
                            <mat-option>
                                <ngx-mat-select-search
                                    placeholderLabel="Search"
                                    [formControl]="citiesFilterCtrl"
                                ></ngx-mat-select-search>
                            </mat-option>
                            <mat-option
                                *ngFor="let type of filteredCities | async"
                                [value]="type.id"
                                (onSelectionChange)="
                                    getLocationData(type.id, 'D')
                                "
                            >
                                {{ type.name }}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="
                                imamInfoForm.get('cityId').hasError('required')
                            "
                        >
                            {{ "ImamProfile.cityNameIsRequired" | translate }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.district" | translate
                        }}</mat-label>
                        <mat-select formControlName="districtId">
                            <mat-option>
                                <ngx-mat-select-search
                                    placeholderLabel="Search"
                                    [formControl]="districtsFilterCtrl"
                                ></ngx-mat-select-search>
                            </mat-option>
                            <mat-option
                                *ngFor="let type of filteredDistricts | async"
                                [value]="type.id"
                                (onSelectionChange)="
                                    getLocationData(type.id, 'V')
                                "
                            >
                                {{ type.name }}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('districtId')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.districtNameIsRequired" | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>
                            {{ "ImamProfile.village" | translate }}</mat-label
                        >
                        <mat-select formControlName="villageId">
                            <mat-option>
                                <ngx-mat-select-search
                                    placeholderLabel="Search"
                                    [formControl]="villagesFilterCtrl"
                                ></ngx-mat-select-search>
                            </mat-option>
                            <mat-option
                                *ngFor="let type of filteredVillages | async"
                                [value]="type.id"
                            >
                                {{ type.name }}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('villageId')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.villageNameIsRequired" | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80">
                        <mat-label>{{
                            "ImamProfile.rtrwCode" | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="rtrwCode"
                            [autocomplete]="'off'"
                            maxlength="7"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('rtrwCode')
                                    .hasError('required')
                            "
                        >
                            {{ "ImamProfile.rtrwCodeIsRequired" | translate }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.postalCode" | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="postalCode"
                            [autocomplete]="'off'"
                            maxlength="5"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('postalCode')
                                    .hasError('required')
                            "
                        >
                            {{ "ImamProfile.postalCodeIsRequired" | translate }}
                        </mat-error>
                    </mat-form-field>
                    <!-- <mat-form-field class="w-full max-width-rem62">
                            <mat-label> {{'ImamProfile.mapsLocation' | translate}} </mat-label>
                            <input matInput formControlName="mapsLocation" [autocomplete]="'off'"
                                [formControl]="autocompleteControl" [matAutocomplete]="auto">
                            <mat-autocomplete #auto="matAutocomplete">
                                <mat-option *ngFor="let option of locations" [value]="option.customerCode"
                                    (onSelectionChange)="selectLocation(option)">
                                    {{option.description}}
                                </mat-option>
                            </mat-autocomplete>
                            <mat-error *ngIf="imamInfoForm.get('mapsLocation').hasError('required')">
                                {{'ImamProfile.mapsLocationIsRequired' | translate}}
                            </mat-error>
                        </mat-form-field>   -->
                </div>
            </div>
            <!-- <div class="mt-5 mb-5">
                <app-map [locationDetails]="locationDetails"></app-map>
            </div> -->

            <div class="form-section">
                <div class="form-section-title">
                    {{ "ImamProfile.educationInfo" | translate }}
                </div>
                <div class="fields-gap">
                    <mat-form-field class="w-full max-w-80">
                        <mat-label>{{
                            "ImamProfile.highestFormalEducation" | translate
                        }}</mat-label>
                        <mat-select formControlName="educationLevels">
                            <mat-option
                                *ngFor="let type of HigherEducation"
                                [value]="type.id"
                            >
                                {{ type.levelName }}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('educationLevels')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.highestFormalEducationIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.informalEducation" | translate
                        }}</mat-label>
                        <mat-select
                            formControlName="trainings"
                            multiple="true"
                            [matTooltip]="getSelectedTrainingNames()"
                        >
                            <mat-option
                                *ngFor="let type of TrainingCourses"
                                [value]="type.id"
                            >
                                {{ type.trainingName }}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('trainings')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.informalEducationIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>
                            {{
                                "ImamProfile.knownLanguages" | translate
                            }}</mat-label
                        >
                        <mat-select
                            formControlName="knownLanguages"
                            multiple="true"
                            [matTooltip]="getSelectedLanguageNames()"
                        >
                            <mat-option
                                *ngFor="let type of LocalLanguages"
                                [value]="type.id"
                            >
                                {{ type.languageName }}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('knownLanguages')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.knownLanguagesIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80">
                        <mat-label>{{
                            "ImamProfile.khutbahThemes" | translate
                        }}</mat-label>
                        <mat-select
                            formControlName="sermonThemes"
                            multiple="true"
                            [matTooltip]="getSelectedSermonThemeNames()"
                        >
                            <mat-option
                                *ngFor="let type of SermonThemes"
                                [value]="type.id"
                            >
                                {{ type.sermonThemeName }}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('sermonThemes')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.khutbahThemesIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>
                            {{
                                "ImamProfile.memorizationAbility" | translate
                            }}</mat-label
                        >
                        <mat-select formControlName="memorizationAbilityId">
                            <mat-option
                                *ngFor="let type of MemorizationAbility"
                                [value]="type.id"
                            >
                                {{ type.memorizationName }}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('memorizationAbilityId')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.memorizationAbilityIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="form-section">
                <div class="form-section-title">
                    {{ "ImamProfile.mainBaseMosqueDetails" | translate }}
                </div>
                <mat-form-field class="w-full max-w-80">
                    <mat-label>{{
                        "ImamProfile.mainBaseMosqueName" | translate
                    }}</mat-label>
                    <input
                        matInput
                        formControlName="mainBaseMosque"
                        [autocomplete]="'off'"
                    />
                    <mat-error
                        *ngIf="
                            imamInfoForm
                                .get('mainBaseMosque')
                                .hasError('required')
                        "
                    >
                        {{
                            "ImamProfile.mainBaseMosqueNameIsRequired"
                                | translate
                        }}
                    </mat-error>
                    <mat-error
                        *ngIf="
                            imamInfoForm.controls['mainBaseMosque'].hasError(
                                'noLeadingSpaces'
                            )
                        "
                    >
                        {{
                            "MosqueProfile.spaceNotAllowedInitially" | translate
                        }}
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="w-full max-w-80 ml-4">
                    <mat-label>{{
                        "ImamProfile.mainMosqueAddress" | translate
                    }}</mat-label>
                    <textarea
                        matInput
                        formControlName="mainMosqueAddress"
                        maxlength="150"
                    ></textarea>
                    <label class="text-disabled">
                        {{imamInfoForm.get("mainMosqueAddress")?.value?.length || 0}}/150
                    </label>
                    <mat-error
                        *ngIf="
                            imamInfoForm
                                .get('mainMosqueAddress')
                                .hasError('required')
                        "
                    >
                        {{ "ImamProfile.mosqueAddressIsRequired" | translate }}
                    </mat-error>
                    <mat-error
                        *ngIf="
                            imamInfoForm.controls['mainMosqueAddress'].hasError(
                                'noLeadingSpaces'
                            )
                        "
                    >
                        {{
                            "MosqueProfile.spaceNotAllowedInitially" | translate
                        }}
                    </mat-error>
                </mat-form-field>
                <div>
                    <mat-form-field class="w-full max-width-rem62">
                        <mat-label>
                            {{
                                "ImamProfile.mainBaseMosqueMapsLocation"
                                    | translate
                            }}
                        </mat-label>
                        <input
                            matInput
                            formControlName="mosqueMapsLocation"
                            [autocomplete]="'off'"
                            [formControl]="autocompleteControl"
                            [matAutocomplete]="auto"
                        />
                        <mat-autocomplete #auto="matAutocomplete">
                            <mat-option
                                *ngFor="let option of locations"
                                [value]="option.customerCode"
                                (onSelectionChange)="
                                    selectMainMosqueLocation(option)
                                "
                            >
                                {{ option.description }}
                            </mat-option>
                        </mat-autocomplete>
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('mosqueMapsLocation')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.baseMosqueMapsLocationIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <span class="ml-4">
                        <button
                            mat-icon-button
                            type="button"
                            (click)="addMosque()"
                        >
                            <mat-icon style="color: #006e8c"
                                >add_circle_outline</mat-icon
                            >
                        </button>
                    </span>
                </div>
            </div>
            <div class="mt-5 mb-5">
                <app-map [locationDetails]="locationDetails"></app-map>
            </div>

            <div class="form-section">
                <div class="form-section-title">
                    {{ "ImamProfile.otherMosquesDetails" | translate }}
                </div>
                <div formArrayName="otherMosques">
                    <div
                        *ngFor="
                            let mosque of otherMosques.controls;
                            let i = index
                        "
                        [formGroupName]="i"
                    >
                        <div class="mt-4">
                            <mat-form-field class="w-full max-w-80">
                                <mat-label>{{
                                    "ImamProfile.otherMosqueName" | translate
                                }}</mat-label>
                                <input
                                    matInput
                                    formControlName="otherMosqueName"
                                    [autocomplete]="'off'"
                                />
                                <mat-error
                                    *ngIf="
                                        otherMosques
                                            .at(i)
                                            .get('otherMosqueName').invalid
                                    "
                                >
                                    {{
                                        "ImamProfile.otherMosqueNameIsRequired"
                                            | translate
                                    }}
                                </mat-error>
                            </mat-form-field>
                            <mat-form-field class="w-full max-w-80 ml-4">
                                <mat-label>{{
                                    "ImamProfile.otherMosqueAddress" | translate
                                }}</mat-label>
                                <textarea
                                    matInput
                                    formControlName="otherMosqueAddress"
                                    maxlength="150"
                                ></textarea>
                                <mat-error
                                    *ngIf="
                                        otherMosques
                                            .at(i)
                                            .get('otherMosqueAddress').invalid
                                    "
                                >
                                    {{
                                        "ImamProfile.otherMosqueAddressIsRequired"
                                            | translate
                                    }}
                                </mat-error>
                            </mat-form-field>
                            <span class="ml-4">
                                <button
                                    mat-icon-button
                                    type="button"
                                    (click)="removeMosque(i)"
                                >
                                    <mat-icon style="color: indianred"
                                        >remove_circle_outline</mat-icon
                                    >
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-section">
                <div class="form-section-title">
                    {{ "ImamProfile.otherInfoDetails" | translate }}
                </div>
                <div class="fields-gap">
                    <mat-form-field class="w-full max-w-80">
                        <mat-label>{{
                            "ImamProfile.professionalImam" | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="professionalImam"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('professionalImam')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.professionalImamIsRequied"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.experienceInInternationalDawah"
                                | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="expInternationalDawah"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('expInternationalDawah')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.experienceInInternationalDawahIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.professionalKhatib" | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="professionalKhatib"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('professionalKhatib')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.professionalKhatibIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80">
                        <mat-label>
                            {{
                                "ImamProfile.experienceAsImamAbroad" | translate
                            }}</mat-label
                        >
                        <input
                            matInput
                            formControlName="expImamAbroad"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('expImamAbroad')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.experienceAsImamAbroadIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.religiousBookAuthor" | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="religiousBookAuthor"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('religiousBookAuthor')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.religiousBookAuthorIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.activistInReligiousInstitutions"
                                | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="activistReligiousInst"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('activistReligiousInst')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.activistInReligiousInstitutionsIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80">
                        <mat-label>
                            {{
                                "ImamProfile.popularPreacher" | translate
                            }}</mat-label
                        >
                        <input
                            matInput
                            formControlName="popularPreacher"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('popularPreacher')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.popularPreacherIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.moderateDawahActivist" | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="moderateDawahActivist"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('moderateDawahActivist')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.moderateDawahActivistIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.majelisTaklimTeacher" | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="majelisTaklimTeacher"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('majelisTaklimTeacher')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.majelisTaklimTeacherIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80">
                        <mat-label>{{
                            "ImamProfile.serviceInGovernmentInstitutions"
                                | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="serviceGovtInst"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('serviceGovtInst')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.serviceInGovernmentInstitutionsIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.pesantrenTeacher" | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="pesantrenTeacher"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('pesantrenTeacher')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.pesantrenTeacherIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.socialMediaActivist" | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="socialMediaActivist"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('socialMediaActivist')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.socialMediaActivistIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80">
                        <mat-label>
                            {{
                                "ImamProfile.politicalPartyAffiliation"
                                    | translate
                            }}</mat-label
                        >
                        <input
                            matInput
                            formControlName="politicalPartyAffiliation"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('politicalPartyAffiliation')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.politicalPartyAffiliationIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>{{
                            "ImamProfile.independent" | translate
                        }}</mat-label>
                        <input
                            matInput
                            formControlName="independent"
                            [autocomplete]="'off'"
                        />
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('independent')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.independentIsRequired" | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="w-full max-w-80 ml-4">
                        <mat-label>
                            {{
                                "ImamProfile.expertiseAsEducationAndTrainingInstructor"
                                    | translate
                            }}
                        </mat-label>
                        <mat-select
                            formControlName="eductaionTrainingInstructor"
                            multiple="true"
                            [matTooltip]="getSelectedInstructorNames()"
                        >
                            <mat-option
                                *ngFor="let type of EductaionTrainingInstructor"
                                [value]="type.id"
                            >
                                {{ type.educationTrainingName }}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="
                                imamInfoForm
                                    .get('eductaionTrainingInstructor')
                                    .hasError('required')
                            "
                        >
                            {{
                                "ImamProfile.expertiseAsEducationAndTrainingInstructorIsRequired"
                                    | translate
                            }}
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="social-media-section">
                <div class="social-media-section-title">
                    {{ "ImamProfile.socialMediaDetails" | translate }}
                </div>
                <div formArrayName="socialMediaAccounts">
                    <div
                        *ngFor="
                            let account of socialMediaAccounts.controls;
                            let i = index
                        "
                        [formGroupName]="i"
                        class="social-media-account-item"
                    >
                        <mat-checkbox
                            class="social-media-checkbox"
                            formControlName="isChecked"
                        >
                            {{ account.value.socialMediaType }}
                        </mat-checkbox>
                        <mat-form-field class="social-media-form-field">
                            <input
                                matInput
                                formControlName="socialMediaId"
                                [placeholder]="
                                    'Enter ' +
                                    account.value.socialMediaType +
                                    ' ID'
                                "
                                [readonly]="!account.value.isChecked"
                            />
                            <mat-error
                                *ngIf="isInvalid(i)"
                                class="social-media-error"
                            >
                                {{
                                    "ImamProfile.socialMediaIDIsRequired"
                                        | translate
                                }}
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
            </div>
            <div class="float-left mt-4">
                <button mat-button (click)="profileDialogRef.close()">
                    {{ "ImamProfile.cancel" | translate }}
                </button>
                <button
                    mat-flat-button
                    [color]="'primary'"
                    (click)="addUpdateImamProfileData()"
                >
                    {{ "ImamProfile.update" | translate }}
                </button>
            </div>
        </form>
    </div>
</div>
<ngx-spinner size="medium" [type]="isLoadingType"></ngx-spinner>
